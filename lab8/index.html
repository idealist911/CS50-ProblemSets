<!DOCTYPE html>

<html lang="en">
    <head>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
        <link href="styles.css" rel="stylesheet">
        <title>Trivia!</title>

        <script>

            // TODO: Add code to check answers to questions

            // Check MCQ questions
            function check_mcq(id, ind, id2){
                let elements = document.getElementsByName(id);
                let element = elements[ind];
                let check = document.getElementById(id2);

                // Set all buttons in question to default colours
                for (var i = 0; i < elements.length; i++){
                    elements[i].style.backgroundColor = '#DDEEFF';
                }

                if (element.value == 'correct'){
                    element.style.backgroundColor = '#00FF00';
                    check.innerHTML = 'Correct!';

                    // Lock all buttons in the question
                    for (var i = 0; i < elements.length; i++){
                        elements[i].disabled = true;
                    }

                }
                else{
                    element.style.backgroundColor = '#FF0000';
                    check.innerHTML = 'Incorrect';
                }
            }

            // Check open-ended questions
            function check_open(id, ans, id2){
                let element = document.getElementById(id);
                let check = document.getElementById(id2);
                if (element.value == ans) {
                    check.innerHTML = 'Correct!';
                    element.style = "background-color: #00FF00";
                    element.disabled = true;
                }
                else {
                    check.innerHTML = 'Incorrect';
                    element.style = "background-color: #FF0000";
                }
            }

            //function listen() {
            //    let input = document.querySelector('#submit');
            //    input.addEventListener('submit', correct);
            //}

            //document.addEventListener('DOMContentLoaded', listen);

        </script>

    </head>
    <body>

        <div class="jumbotron">
            <h1>Trivia!</h1>
        </div>

        <div class="container">

            <div class="section">
                <h2>Part 1: Multiple Choice </h2>
                <hr>

                <!-- TODO: Add multiple choice question here -->
                <h3> What is the oldest continuously inhabited city in the world? </h3>
                <!-- Damascus -->
                <button name='a1' value="wrong" onclick="check_mcq('a1', 0, 'chk')"> Athens, Greece </button>
                <button name='a1' value="correct" onclick="check_mcq('a1', 1, 'chk')"> Damascus, Syria </button>
                <button name='a1' value="wrong" onclick="check_mcq('a1', 2, 'chk')"> Istanbul, Turkey </button>
                <button name='a1' value="wrong" onclick="check_mcq('a1', 3, 'chk')"> Jerusalem </button>
                <p id="chk"></p>

            </div>

            <div class="section">
                <h2>Part 2: Free Response</h2>
                <hr>

                <!-- TODO: Add free response question here -->
                <h3> What is the biggest island in the world? </h3>
                <!-- Greenland -->
                <input id = "a2" autocomplete = "off" placeholder = "answer" type="text">
                <button onclick="check_open('a2', 'Greenland', 'chk2');"> Submit </button>
                <p id="chk2"></p>
            </div>

        </div>
    </body>
</html>
